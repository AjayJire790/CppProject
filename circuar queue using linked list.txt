#include<iostream>
#include<conio.h>
#include<malloc.h>
using namespace std;
typedef struct Node
{
    int data;
    struct Node *next;
}node;
node *front=NULL,*rear=NULL,*temp;
void insert();
void del();
void display();
int main()
{
    int ch;

    do
    {
        cout<<"\n\t....Menu...";
        cout<<"\n\t 1 : Insert node";
        cout<<"\n\t 2 : Delete node";
        cout<<"\n\t 3 : Display";
        cout<<"\n\t 4 : Exit";
        cout<<"\nSelect your choice=";
        cin>>ch;
        switch(ch)
        {
        case 1:
            insert();
            break;
        case 2:
            del();
            break;
        case 3:
            display();
            break;
        case 4:
            return 1;
        default:
            cout<<"\nInvalid choice=";
        }
    }
    while(1);
    return 0;

}
void insert()
{
 node *newnode;
 newnode=(node*)malloc(sizeof(node));
 cout<<"\nEnter the node value=";
 cin>>newnode->data;
 newnode->next=NULL;
 if(rear==NULL)
        front=rear=newnode;
 else
    {
        rear->next=newnode;
        rear=newnode;
    }
 rear->next=front;

}
void del()
{
    int d=front->data;
    temp=front;
    if(front==NULL)
        cout<<"\nUnderflow...";
    else
    {
        if(front==rear)
        {
            front=rear=NULL;
        }
        else
        {
            front=front->next;
            rear->next=front;
        }
        cout<<"\n Node deleted="<<d;
        temp->next=NULL;
        free(temp);
    }
}
void display()
{
    temp=front;
    if(front==NULL)
        cout<<"\nLinked list is empty";
    else
    {
        cout<<"\n";
        for(;temp!=rear;temp=temp->next)
        {
            cout<<temp->data<<"->";

        }
        cout<<" "<<temp->data;
    }
}
